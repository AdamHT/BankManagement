#:import utils kivy.utils
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import NoTransition kivy.uix.screenmanager.NoTransition
<AdminScreen@Screen>:
    name: "admin_screen"

    BoxLayout:
        id: main_win
        orientation: 'vertical'
        spacing: 2
        canvas.before:
            Color:
                rgba: (.91,.91,.91,1)
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            id: top_nav
            size_hint_y: None
            height: 30
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex('#062f4f')
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Administrator Dashboard'
                bold: True
                size_hint: (.9, None)
                height: 30
                padding: 3,3
            FlatButton:
                id: file_trigger
                text: 'Logout'
                #text: 'File'
                #on_release: file_dropdown.open(self)
                size_hint: (.1, None)
                on_release: root.logout()
                height: 30
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex('#031424')
                    Rectangle:
                        size: self.size
                        pos: self.pos
        BoxLayout:
            id: content_nav

            BoxLayout:
                id: nav_tabs
                size_hint_x: None
                width: 175
                orientation: 'vertical'
                spacing: 5
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex('#062f4f')
                    Rectangle:
                        size: self.size
                        pos: self.pos
                ToggleButton:
                    id: user_toggle
                    text: 'Create Account'
                    #size_hint_y: .1
                    size_hint_y: None
                    height: 50
                    state: 'down'
                    background_color: (0.044, 0.204, 0.51,1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)
                ToggleButton:
                    id: add_account_toggle
                    text: 'Manage Accounts'
                    #size_hint_y: .1
                    size_hint_y: None
                    height: 50
                    background_color: (0.044, 0.204, 0.51,1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)
                Label:
                    id: sp
                    text: ''
                    size_hint_y: .7
            BoxLayout:
                id: all_content
                padding: 20,10
                ScreenManager:
                    id: screen_manager
                    Screen:
                        id: add_user_screen
                        name: 'add_user_screen'
                        BoxLayout:
                            layout: 'vertical'
                            spacing: 10
                            BoxLayout:
                                orientation: 'vertical'
                                spacing: 40
                                # BoxLayout:
                                #     orientation: 'horizontal'
                                #     size_hint_y: None
                                #     height: 30
                                #     Button:
                                #         text: 'Back'
                                #         size_hint_x: .2
                                #         on_release: root.BackToAdminScreen()
                                Label:
                                    text: 'User Details'
                                    size_hint_y: None
                                    height: 30
                                    canvas.before:
                                        Color:
                                            rgba: (0.30,0.30,0.30,1)
                                        Rectangle:
                                            size: self.size
                                            pos: self.pos
                                BoxLayout:
                                    orientation: 'vertical'
                                    spacing: 20
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'Name'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: firstName
                                            hint_text: 'first name'
                                            multiline: False
                                            write_tab: False
                                        # Label:
                                        #     text: 'Last Name'
                                        #     canvas.before:
                                        #         Color:
                                        #             rgba: (0.60,0.60,0.60,1)
                                        #         Rectangle:
                                        #             size: self.size
                                        #             pos: self.pos
                                        TextInput:
                                            id: lastName
                                            hint_text: 'last name'
                                            multiline: False
                                            write_tab: False
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'Street Address'
                                            size_hint_x: .25
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: streetAddress
                                            hint_text: 'Address'
                                            size_hint_x: .75
                                            multiline: False
                                            write_tab: False
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'City'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: city
                                            hint_text: 'City'
                                            multiline: False
                                            write_tab: False
                                        Label:
                                            text: 'State'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: state
                                            hint_text: 'State'
                                            multiline: False
                                            write_tab: False
                                        Label:
                                            text: 'Zip Code'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: zipcode
                                            hint_text: 'Zip Code'
                                            multiline: False
                                            write_tab: False
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'Email'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        # TextInput:
                                        #     id: email
                                        #     hint_text: 'Email'
                                        #     multiline: False
                                        #     write_tab: False
                                        TextInput:
                                            id: email
                                            hint_text: 'Email'
                                            multiline: False
                                            write_tab: False
                                        Label:
                                            text: 'Phone #'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: phoneNumber
                                            hint_text: '0001112222'
                                            multiline: False
                                            write_tab: False
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'Account Type'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        Spinner:
                                            id: accountTypeDropdown
                                            text: 'Select Account'
                                            #size_hint_x: .6
                                            values: ('Admin', 'Teller', 'Customer')
                                            #background_color: 0.024, 0.184, 0.31, 1
                                        Label:
                                            text: 'SSN'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: ssn
                                            hint_text: '000112222'
                                            password: True
                                            multiline: False
                                            write_tab: False
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 5
                                        Label:
                                            text: 'username'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: newUsername
                                            hint_text: 'username'
                                            multiline: False
                                            write_tab: False
                                        Label:
                                            text: 'Password'
                                            canvas.before:
                                                Color:
                                                    rgba: (0.60,0.60,0.60,1)
                                                Rectangle:
                                                    size: self.size
                                                    pos: self.pos
                                        TextInput:
                                            id: newPassword
                                            hint_text: 'password'
                                            password: True
                                            multiline: False
                                            write_tab: False
                                BoxLayout:
                                    orientation: 'vertical'
                                    spacing: 20
                                    size_hint_y: .2
                                    Label:
                                        text: ''
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: 30
                                        padding_x: 30
                                        size_hint_y: None
                                        height: 45
                                        Button:
                                            text: 'Clear'
                                            on_release: root.ClearDetails()
                                        Button:
                                            text: 'Next'
                                            on_release:
                                                root.FinishAddUser()
                                                #root.ClearDetails()
                                    Label:
                                        text: ''
                    Screen:
                        id: user_screen
                        name: 'user_screen'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10
                            BoxLayout:
                                orientation: 'horizontal'
                                spacing: 10
                                Label:
                                    text: ''
                                    size_hint_x: .2
                                TextInput:
                                    id: lookup_customer
                                    size_hint_x: .4
                                    hint_text: 'SSN'
                                    multiline: False
                                Button:
                                    id: lookup_customer_button
                                    size_hint_x: .2
                                    text: 'Search'
                                    on_release:
                                        root.SetCurrentCustomer()
                                        root.SearchCustomer()
                                Label:
                                    text: ''
                                    size_hint_x: .2
                            BoxLayout:
                                orientation: 'horizontal'
                                Label:
                                    text: ''
                                    size_hint_x: .2
                                Label:
                                    id: customerName
                                    #text: "Name goes here"
                                    color: 0,0,0,1
                                    font_size: 35
                                Label:
                                    text: ''
                                    size_hint_x: .2
                            Label:
                                text:''
                                size_hint_y: None
                                height: 5
                                canvas.before:
                                    Color:
                                        rgba: (0.1,0.1,0.1,1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                            Label:
                                text: 'Choose an account to view'
                                color: 0,0,0,1
                            Spinner:
                                id: userAccounts
                                text: 'Click To Select Account'
                                #values: ('Regular Checking', 'Savings', 'Money Market', 'Home Mortgage Loan', 'Credit Card')
                                background_color: 0.024, 0.184, 0.31, 1
                                on_text: if userAccounts.text != "Click To Select Account": root.OnSpinnerSelect(self.text)
                            BoxLayout:
                                orientation: 'horizontal'
                                canvas.before:
                                    Color:
                                        rgba: (0.6,0.6,0.6,.5)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                                Label:
                                    text: "Account Number: "
                                    color: 0,0,0,1
                                Label:
                                    id: accountNumber
                                    text: ''
                                    color: 0,0,0,1
                            BoxLayout:
                                orientation: 'horizontal'
                                canvas.before:
                                    Color:
                                        rgba: (0.6,0.6,0.6,.5)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                                Label:
                                    text: "Account Type: "
                                    color: 0,0,0,1
                                Label:
                                    id: accountType
                                    text: ''
                                    color: 0,0,0,1
                            BoxLayout:
                                orientation: 'horizontal'
                                canvas.before:
                                    Color:
                                        rgba: (0.6,0.6,0.6,.5)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                                Label:
                                    text: "Account Balance: "
                                    color: 0,0,0,1
                                Label:
                                    id: accountBalance
                                    text: ''
                                    color: 0,0,0,1
                            BoxLayout:
                                orientation: 'horizontal'
                                canvas.before:
                                    Color:
                                        rgba: (0.6,0.6,0.6,.5)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                                Label:
                                    text: "Interest Rate: "
                                    color: 0,0,0,1
                                Label:
                                    id: accountInterest
                                    text: ''
                                    color: 0,0,0,1
                            BoxLayout:
                                orientation: 'vertical'
                                Label:
                                    text: ''
                                BoxLayout:
                                    id: ops_btns
                                    spacing: 10
                                    size_hint_y: None
                                    height: 35
                                    Label:
                                        text: ''
                                    Button:
                                        id: addInterestButton
                                        text: 'Add Interest'
                                        #on_release: root.
                                        size_hint_x: None
                                        width: 130
                                        on_release: root.AddInterest()
                                    Button:
                                        id: addAccountButton
                                        text: 'Add Account'
                                        on_release: root.GoToAddAccountFromUserScreen()
                                        size_hint_x: None
                                        width: 130
                                    # Label:
                                    #     text: ''
                                    #     size_hint_x: None
                                    #     width: 10
                                    Button:
                                        id: removeAccountButton
                                        text: 'Remove Account'
                                        size_hint_x: None
                                        width: 130
                                        on_release:
                                            root.RemoveAccount()
                                    # Label:
                                    #     text: ''
                                    #     size_hint_x: None
                                    #     width: 10
                                    Button:
                                        id: removeUserButton
                                        text: 'Remove User'
                                        size_hint_x: None
                                        width: 130
                                        on_release: root.RemoveUser()
                                    Label:
                                        text: ''
                                Label:
                                    text: ''
                    Screen:
                        id: add_account_screen
                        name: 'add_account_screen'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10
                            Label:
                                id: account_label
                                text: "Add a new account."
                                size_hint_y: None
                                height: 45
                                canvas.before:
                                    Color:
                                        rgba: (0.7,0.7,0.7,1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                            BoxLayout:
                                orientation: 'vertical'
                                spacing: 15
                                padding: add_account_screen.x-75, 100
                                canvas.before:
                                    Color:
                                        rgba: (0.8,0.8,0.8,1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos
                                Label:
                                    text: ''

                                BoxLayout:
                                    orientation: 'horizontal'
                                    spacing: 20
                                    size_hint_y: None
                                    height: 45
                                    Label:
                                        text: 'Account type:'
                                        size_hint_x: .4
                                        color: .2, .2, .2, 1
                                        # canvas.before:
                                        #     Color:
                                        #         rgba: (0.5,0.5,0.5,1)
                                        #     Rectangle:
                                        #         size: self.size
                                        #         pos: self.pos
                                    Spinner:
                                        id: newAccountType
                                        text: 'Select Account'
                                        size_hint_x: .6
                                        values: ('Regular Checking', 'Savings', 'Money Market', 'Mortgage', 'Credit Card')
                                        background_color: 0.024, 0.184, 0.31, 1
                                BoxLayout:
                                    orientation: 'horizontal'
                                    spacing: 20
                                    size_hint_y: None
                                    height: 45
                                    Label:
                                        text: 'Starting balance: '
                                        size_hint_x: .4
                                        color: .2, .2, .2, 1
                                        # canvas.before:
                                        #     Color:
                                        #         rgba: (0.5,0.5,0.5,1)
                                        #     Rectangle:
                                        #         size: self.size
                                        #         pos: self.pos
                                    TextInput:
                                        id: startingBalance
                                        size_hint_x: .6
                                        hint_text: '$'
                                BoxLayout:
                                    orientation: 'horizontal'
                                    spacing: 20
                                    size_hint_y: None
                                    height: 45
                                    Label:
                                        text: ''
                                        size_hint_x: .6
                                    Button:
                                        text: 'Add Account'
                                        size_hint_x: .4
                                        on_release: root.AddAccount()
                                BoxLayout:
                                    orientation: 'horizontal'
                                    spacing: 20
                                    size_hint_y: None
                                    height: 45
                                    Button:
                                        text: 'Finish'
                                        size_hint_x: .5
                                        on_release:
                                            screen_manager.current = 'user_screen'
                                            root.ResetAddAccountScreen()
                                            root.ResetUserScreen()
                                            root.SearchCustomer()
                                Label:
                                    text: ''
                    
        BoxLayout:
            id: status_bar
            orientation: 'horizontal'
            size_hint_y: None
            height: 30
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex('#062f4f')
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text: 'Status: '
                size_hint: (.15, None)
                height: 30
            Label:
                id: status_text
                text: ''
                size_hint: (.35, None)
                height: 30
                bold: True
            Label:
                text: 'Current customer: '
                size_hint: (.25, None)
                height: 30
            Label:
                id: current_customer_status_bar
                text: ''
                size_hint: (.25, None)
                height: 30
                bold: True